<!DOCTYPE HTML>
<html lang="en">
<head>
<!-- Generated by javadoc (17) -->
<title>RestrictedVTI (Apache Derby 10.16 API Documentation)</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
<meta name="description" content="declaration: module: org.apache.derby.engine, package: org.apache.derby.vti, interface: RestrictedVTI">
<meta name="generator" content="javadoc/ClassWriterImpl">
<link rel="stylesheet" type="text/css" href="../../../../../stylesheet.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../script-dir/jquery-ui.min.css" title="Style">
<link rel="stylesheet" type="text/css" href="../../../../../jquery-ui.overrides.css" title="Style">
<script type="text/javascript" src="../../../../../script.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-3.5.1.min.js"></script>
<script type="text/javascript" src="../../../../../script-dir/jquery-ui.min.js"></script>
</head>
<body class="class-declaration-page">
<script type="text/javascript">var evenRowColor = "even-row-color";
var oddRowColor = "odd-row-color";
var tableTab = "table-tab";
var activeTableTab = "active-table-tab";
var pathtoroot = "../../../../../";
loadScripts(document, 'script');</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<div class="flex-box">
<header role="banner" class="flex-header">
<nav role="navigation">
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="top-nav" id="navbar-top">
<div class="skip-nav"><a href="#skip-navbar-top" title="Skip navigation links">Skip navigation links</a></div>
<div class="about-language">Apache Derby 10.16</div>
<ul id="navbar-top-firstrow" class="nav-list" title="Navigation">
<li><a href="../../../../../index.html">Overview</a></li>
<li><a href="../../../../module-summary.html">Module</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="nav-bar-cell1-rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../../index-all.html">Index</a></li>
<li><a href="../../../../../help-doc.html#class">Help</a></li>
</ul>
</div>
<div class="sub-nav">
<div>
<ul class="sub-nav-list">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-summary">Method</a></li>
</ul>
<ul class="sub-nav-list">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li>Constr&nbsp;|&nbsp;</li>
<li><a href="#method-detail">Method</a></li>
</ul>
</div>
<div class="nav-list-search"><label for="search-input">SEARCH:</label>
<input type="text" id="search-input" value="search" disabled="disabled">
<input type="reset" id="reset-button" value="reset" disabled="disabled">
</div>
</div>
<!-- ========= END OF TOP NAVBAR ========= -->
<span class="skip-nav" id="skip-navbar-top"></span></nav>
</header>
<div class="flex-content">
<main role="main">
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="sub-title"><span class="module-label-in-type">Module</span>&nbsp;<a href="../../../../module-summary.html">org.apache.derby.engine</a></div>
<div class="sub-title"><span class="package-label-in-type">Package</span>&nbsp;<a href="package-summary.html">org.apache.derby.vti</a></div>
<h1 title="Interface RestrictedVTI" class="title">Interface RestrictedVTI</h1>
</div>
<section class="class-description" id="class-description">
<dl class="notes">
<dt>All Known Implementing Classes:</dt>
<dd><code><a href="ForeignTableVTI.html" title="class in org.apache.derby.vti">ForeignTableVTI</a></code></dd>
</dl>
<hr>
<div class="type-signature"><span class="modifiers">public interface </span><span class="element-name type-name-label">RestrictedVTI</span></div>
<div class="block"><p>
 Interface for Table Functions which can be told which columns need to be fetched plus simple bounds on those columns.
 </p>

 <p>
 This interface can be implemented by the ResultSet returned by the public
 static method which is bound to the Table Function. If that ResultSet
 implements this interface, then the initScan() method of this interface will be
 called before the scan of the ResultSet starts, that is, before calling any
 ResultSet method.
 </p>

 <p>
 ResultSets which implement this interface can perform more efficiently
 because they don't have to fetch all columns and rows. This can mean
 performance boosts for queries which only need a subset of the Table
 Function's columns and for queries which compare those columns to constant
 expressions using the &lt;, &lt;=, =, &gt;, &gt;=, and != operators. This can also mean
 performance boosts for LIKE and BETWEEN operations on Table Function
 columns. For more information, see the commentary on
 <a href="https://issues.apache.org/jira/browse/DERBY-4357">DERBY-4357</a>.
 </p></div>
</section>
<section class="summary">
<ul class="summary-list">
<!-- ========== METHOD SUMMARY =========== -->
<li>
<section class="method-summary" id="method-summary">
<h2>Method Summary</h2>
<div id="method-summary-table">
<div class="table-tabs" role="tablist" aria-orientation="horizontal"><button id="method-summary-table-tab0" role="tab" aria-selected="true" aria-controls="method-summary-table.tabpanel" tabindex="0" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table', 3)" class="active-table-tab">All Methods</button><button id="method-summary-table-tab2" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab2', 3)" class="table-tab">Instance Methods</button><button id="method-summary-table-tab3" role="tab" aria-selected="false" aria-controls="method-summary-table.tabpanel" tabindex="-1" onkeydown="switchTab(event)" onclick="show('method-summary-table', 'method-summary-table-tab3', 3)" class="table-tab">Abstract Methods</button></div>
<div id="method-summary-table.tabpanel" role="tabpanel">
<div class="summary-table three-column-summary" aria-labelledby="method-summary-table-tab0">
<div class="table-header col-first">Modifier and Type</div>
<div class="table-header col-second">Method</div>
<div class="table-header col-last">Description</div>
<div class="col-first even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code>void</code></div>
<div class="col-second even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3"><code><a href="#initScan(java.lang.String%5B%5D,org.apache.derby.vti.Restriction)" class="member-name-link">initScan</a><wbr>(<a href="https://docs.oracle.com/javase/9/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&nbsp;columnNames,
 <a href="Restriction.html" title="class in org.apache.derby.vti">Restriction</a>&nbsp;restriction)</code></div>
<div class="col-last even-row-color method-summary-table method-summary-table-tab2 method-summary-table-tab3">
<div class="block">
 Initialize a scan of a ResultSet.</div>
</div>
</div>
</div>
</div>
</section>
</li>
</ul>
</section>
<section class="details">
<ul class="details-list">
<!-- ============ METHOD DETAIL ========== -->
<li>
<section class="method-details" id="method-detail">
<h2>Method Details</h2>
<ul class="member-list">
<li>
<section class="detail" id="initScan(java.lang.String[],org.apache.derby.vti.Restriction)">
<h3>initScan</h3>
<div class="member-signature"><span class="return-type">void</span>&nbsp;<span class="element-name">initScan</span><wbr><span class="parameters">(<a href="https://docs.oracle.com/javase/9/docs/api/java/lang/String.html" title="class or interface in java.lang" class="external-link">String</a>[]&nbsp;columnNames,
 <a href="Restriction.html" title="class in org.apache.derby.vti">Restriction</a>&nbsp;restriction)</span>
       throws <span class="exceptions"><a href="https://docs.oracle.com/javase/9/docs/api/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></span></div>
<div class="block"><p>
 Initialize a scan of a ResultSet. This method is called once before the scan begins. It
 is called before any
 ResultSet method is called. This method performs two tasks:
 </p>

 <ul>
 <li><b>Column names</b> - Tells the ResultSet which columns need to be fetched.</li>
 <li><b>Limits</b> - Gives the ResultSet simple bounds to apply in order
 to limit which rows are returned. Note that the ResultSet does not have
 to enforce all of these bounds. Derby will redundantly enforce these
 limits on all rows returned by the ResultSet. That is, filtering not
 performed inside the ResultSet will still happen outside the ResultSet.</li>
 </ul>

 <p>
 The <i>columnNames</i> argument is an array of columns which need to be fetched.  This
 is an array of the column names declared in the Table Function's
 CREATE FUNCTION statement. Column names which were double-quoted
 in the CREATE FUNCTION statement appear case-sensitive in this
 array. Column names which were not double-quoted appear
 upper-cased. Derby asks the Table Function to fetch all columns mentioned
 in the query. This includes columns mentioned in the SELECT list as well
 as columns mentioned in the WHERE clause. Note that a column could be
 mentioned in the WHERE clause in a complex expression which could not be
 passed to the Table Function via the <i>restriction</i> argument.
 </p>

 <p>
 The array has one slot for each column declared in the CREATE FUNCTION
 statement. Slot 0 corresponds to the first column declared in the CREATE
 FUNCTION statement and so on. If a column does not need to be
 fetched, then the corresponding slot is null. If a column needs
 to be fetched, then the corresponding slot holds the column's
 name.
 </p>

 <p>
 Note that even though the array may have gaps, it is expected that
 columns in the ResultSet will occur at the positions declared in the
 CREATE FUNCTION statement. Consider the following declaration:
 </p>

 <blockquote><pre>
  create function foreignEmployeeTable()
  returns table
  (
      id        int,
      birthDay  date,
      firstName varchar( 100 ),
      lastName  varchar( 100 )
  )
 ...
 </pre></blockquote>

 <p>
 and the following query:
 </p>

 <blockquote><pre>
 select lastName from table( foreignEmployeeTable() ) s
 </pre></blockquote>

 <p>
 In this example, the array passed to this method will have
 4 slots. Slots 0, 1, and 2 will be null and slot 3 will hold
 the String "LASTNAME". Last names will be retrieved from the
 ResultSet by calls to getString( 4 )--remember that JDBC column
 ids are 1-based.
 </p>

 <p>
 The <i>restriction</i> argument is a simple expression which should be evaluated inside the Table
 Function in order to eliminate rows. The expression is a binary tree built out of ANDs,
 ORs, and column qualifiers. The column qualifiers are simple comparisons
 between constant values and columns in the Table Function. The Table
 Function only returns rows which satisfy the expression. The
 <i>restriction</i> is redundantly enforced by Derby on the rows returned
 by the ResultSet--this means that <i>restriction</i> gives the Table
 Function a hint about how to optimize its performance but the Table
 Function is not required to enforce the entire <i>restriction</i>.
 </p></div>
<dl class="notes">
<dt>Parameters:</dt>
<dd><code>columnNames</code> - Names of the columns to be fetched</dd>
<dd><code>restriction</code> - Where clause fragment used to filter rows</dd>
<dt>Throws:</dt>
<dd><code><a href="https://docs.oracle.com/javase/9/docs/api/java/sql/SQLException.html" title="class or interface in java.sql" class="external-link">SQLException</a></code> - on error</dd>
</dl>
</section>
</li>
</ul>
</section>
</li>
</ul>
</section>
<!-- ========= END OF CLASS DATA ========= -->
</main>
<footer role="contentinfo">
<hr>
<p class="legal-copy"><small>Apache Derby 10.16 API Documentation  -  <i>Copyright &copy; 2004,2022 The Apache Software Foundation. All Rights Reserved.</i></small></p>
</footer>
</div>
</div>
</body>
</html>
