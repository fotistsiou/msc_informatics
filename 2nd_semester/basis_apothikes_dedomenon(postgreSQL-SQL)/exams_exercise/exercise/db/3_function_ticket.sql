CREATE OR REPLACE FUNCTION sum_total_ticket(ticket_no VARCHAR(13))
    RETURNS DOUBLE PRECISION
    AS
    $$ 
        DECLARE 
            summs DOUBLE PRECISION;
        BEGIN
            SELECT sum(t_price) into summs FROM ticket_flight WHERE t_no = ticket_no;
            UPDATE ticket SET t_tprice = summs WHERE t_no = ticket_no;
            RETURN summs;
        END
    $$ LANGUAGE plpgsql;


SELECT sum_total_ticket('1265789542646');
SELECT sum_total_ticket('6541551135448');
SELECT sum_total_ticket('5435851315564');
SELECT sum_total_ticket('7633435365673');
SELECT sum_total_ticket('3574345747346');
SELECT sum_total_ticket('4257474534657');
SELECT sum_total_ticket('3457432346245');
SELECT sum_total_ticket('4257425724523');
SELECT sum_total_ticket('2356236656522');
SELECT sum_total_ticket('2457468545686');
SELECT sum_total_ticket('4568325768655');
SELECT sum_total_ticket('3592458564464');
SELECT sum_total_ticket('3686835634637');
SELECT sum_total_ticket('6785673457682');
SELECT sum_total_ticket('3568524573468');
SELECT sum_total_ticket('3568534375768');
SELECT sum_total_ticket('4675674567568');
SELECT sum_total_ticket('2465752342466');
SELECT sum_total_ticket('5679657874534');
SELECT sum_total_ticket('6796356685847');
SELECT sum_total_ticket('2354568567658');
SELECT sum_total_ticket('6595567534773');
SELECT sum_total_ticket('5684356435685');
SELECT sum_total_ticket('2358568325685');
SELECT sum_total_ticket('8785645675684');
SELECT sum_total_ticket('3458658784567');
SELECT sum_total_ticket('6793456345688');
SELECT sum_total_ticket('2468797568964');
SELECT sum_total_ticket('6895734575848');
SELECT sum_total_ticket('3568794634684');
SELECT sum_total_ticket('4568456346864');
SELECT sum_total_ticket('2357686845758');
SELECT sum_total_ticket('3578456367583');
SELECT sum_total_ticket('6793456879634');
SELECT sum_total_ticket('6794546873457');
SELECT sum_total_ticket('6794575687937');
SELECT sum_total_ticket('2465768556848');
SELECT sum_total_ticket('4685345357685');
SELECT sum_total_ticket('6587853463574');
SELECT sum_total_ticket('5685346325657');
SELECT sum_total_ticket('5685346325757');
SELECT sum_total_ticket('5679677345387');
SELECT sum_total_ticket('6895746879456');
SELECT sum_total_ticket('3469673455935');
SELECT sum_total_ticket('8984634624745');
SELECT sum_total_ticket('7945634758367');
SELECT sum_total_ticket('3578322468356');
SELECT sum_total_ticket('6967843463468');
SELECT sum_total_ticket('4356877575695');
SELECT sum_total_ticket('4679346374835');
SELECT sum_total_ticket('5685734635563');
SELECT sum_total_ticket('5479767366538');
SELECT sum_total_ticket('6844345536848');
SELECT sum_total_ticket('5683255685248');
SELECT sum_total_ticket('2485634748568');
SELECT sum_total_ticket('5783466585247');
SELECT sum_total_ticket('6832452475434');
SELECT sum_total_ticket('5658845624724');
SELECT sum_total_ticket('2683457235756');
SELECT sum_total_ticket('4568455683462');
SELECT sum_total_ticket('4578574684628');
SELECT sum_total_ticket('7973463634838');
SELECT sum_total_ticket('6794346347468');
SELECT sum_total_ticket('2469346357463');
SELECT sum_total_ticket('5683463575388');
SELECT sum_total_ticket('3567984563574');
SELECT sum_total_ticket('4623247683446');
SELECT sum_total_ticket('2456793476834');
SELECT sum_total_ticket('7346235934373');
SELECT sum_total_ticket('6796457348533');
SELECT sum_total_ticket('9793463543883');
SELECT sum_total_ticket('5678743463837');
SELECT sum_total_ticket('3569457346853');
SELECT sum_total_ticket('5746234634835');
SELECT sum_total_ticket('7698434357423');
SELECT sum_total_ticket('9864457534828');
SELECT sum_total_ticket('9683347548324');
SELECT sum_total_ticket('4657257683837');
SELECT sum_total_ticket('7653425785346');
SELECT sum_total_ticket('2457723448683');
SELECT sum_total_ticket('4634643524578');
SELECT sum_total_ticket('3468234486583');
SELECT sum_total_ticket('3254873568686');
SELECT sum_total_ticket('5248348524576');
SELECT sum_total_ticket('1245568376837');
SELECT sum_total_ticket('8939321357357');
SELECT sum_total_ticket('6832462468245');
SELECT sum_total_ticket('9249245137347');
SELECT sum_total_ticket('8353824682458');
SELECT sum_total_ticket('5793556245882');
SELECT sum_total_ticket('2468138347823');
SELECT sum_total_ticket('6835813581346');
SELECT sum_total_ticket('2458138357857');
SELECT sum_total_ticket('8358158138435');
SELECT sum_total_ticket('8325825825737');
SELECT sum_total_ticket('3682358532583');
SELECT sum_total_ticket('8258358258534');
SELECT sum_total_ticket('8346824682473');
SELECT sum_total_ticket('8234814684835');
SELECT sum_total_ticket('3625725835782');